# Contributing to the Equilens Website

Thanks for helping keep the FL‑BSA site tidy and deterministic. This project is a
static HTML/CSS codebase deployed from `main` via GitHub Pages, so every change
should be reproducible and auditable.

## Project layout

```
assets/               Runtime CSS, JS, images (served to the browser)
brand/                Source design tokens, press kit, wordmarks
config/web/           JSON single source of truth (SSOT) for navigation/footer
templates/            HTML partials injected by the sync scripts
output/ops/           Evidence artefacts generated by CI (kept intentionally)
scripts/              Tooling (SEO, OG rendering, evidence, etc.)
scripts/archive/      Historical utilities kept for reference
```

### CSS

- `assets/eql/site-light.css` – main site styles (home, contact, legal, etc.)
- `assets/eql/fl-bsa.css` – FL‑BSA product design system (Block‑28 rollout)
- `assets/eql/nav.js` – shared navigation behaviour (smooth scroll, mobile menu,
  footer year)

No bundler is involved; keep the styles lean and deterministic.

## Updating navigation & footer

Navigation and footer markup is synchronised across all pages. **Never edit the
HTML includes by hand**; changes will be overwritten.

1. Update the JSON source:

   - Navigation: `config/web/nav.json`
   - Footer: `config/web/footer.json`

2. Run the sync scripts:

   ```bash
   python3 scripts/content/sync_nav_ssot.py
   python3 scripts/content/sync_footer_ssot.py
   ```

3. Review the generated diffs (`git status`, `git diff`).

Legacy helpers formerly used during the appline/dark-theme experiments now live
under `scripts/archive/legacy-sync/` and should not be reused.

## Evidence & tooling

- Generate screenshot/evidence bundles locally with
  `scripts/evidence/screenshots.sh`.
- The deployment workflow (`.github/workflows/pages.yml`) runs the same evidence
  command and stores artefacts under `output/ops/SITE-DEPLOY-<timestamp>/`.
- Keep `output/ops/` committed when new evidence is generated – it is part of
  the compliance trail.

## Working locally

```bash
python3 -m http.server  # serves the repo at http://localhost:8000
```

Use the provided scripts wherever possible (SEO toggles, OG renderer, icon
generator, legal verifiers) so the CI and local environments stay in sync.

## Git hygiene

- Commit small, reviewable changes.
- Attach the evidence bundle (when applicable) in the same commit.
- Never rewrite history on `main`; deployments track that branch directly.

If in doubt, ask before removing files – several “unused” assets are referenced
by the evidence or deploy scripts.
